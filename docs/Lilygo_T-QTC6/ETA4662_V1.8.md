# ETA4662
## **II [22] C Communication, 500mA Single Cell LiC Communication, 500mA Single Cell Li--Ion Battery Charger with Power Ion Battery Charger with Power ** Path ManagementPath Management ， 11mA Termination and <1uA Battery LeakagemA Termination and <1uA Battery Leakage DESCRIPTIONDESCRIPTION FEATURESFEATURES 


The ETA4662 is a single cell battery charger with power The ETA4662 is a single cell battery charger with power

path management function for path management function for LiLi--Ion and LIon and Lii--PPolymer battery. olymer battery.

It features preIt features pre--charging, fast charging (CC) and constant charging, fast charging (CC) and constant

voltage (CV) charging, endvoltage (CV) charging, end--of charging termination, and of charging termination, and

autoauto--recharge, and builtrecharge, and built--in safein safe--timer preventing from being timer preventing from being

overover--charged or host running out of control.charged or host running out of control.

The power path management function features a low

protection.
## TYPICALTYPICAL APPLICATIONAPPLICATION



Fully Autonomous CharFully Autonomous Charger for Single Cell Liger for Single Cell Li--Ion and Ion and

LiLi--Polymer Polymer BBatteryattery


21V Maximum Input Voltage Rating with Over21V Maximum Input Voltage Rating with Over-
Voltage ProtectionVoltage Protection


II [22] C Interface for Setting Charging Parameters and C Interface for Setting Charging Parameters and

Status ReportingStatus Reporting


Fully Integrated Power Switch and No External Fully Integrated Power Switch and No External


IN


SYS


~~USB~~ ~~P~~ or ~~t~~ A1 IN SYS A2 To System


A1 SYS A2



4.7uF

100n ~~F~~


BAT


nINT


Li-ion

battery

pack



B2

C1

C2

C3


ETA4662

SDA


SCL

GND


NTC

VDD


A3

B1

B3

#### www.etasolution.com 1 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662

**PACKAGEPACKAGE** **TOP MARKTOP MARK** **Pcs/ReelPcs/Reel**
## ORDERING ORDER I NG NFORMATIONINFORMATION  [PART No.PART No.] ETA4662FQFJ FCQFN  SJY W 3000 PIN CONFIGURATIONPIN CONFIGURATION ABSOLUTEABSOLUTE MAXIMUM RATINGSMAXIMUM RATINGS

**…** **…**

**.**

**…** **…** **…**

**…** **…**

**…** **…**

**…** **…**

## **I**

**…** **…**

**…** **…** **…**

**…** **…**

**…** **…**

## **I**

**…** **…**

**…** **…** **…**

**…** **…**

**…** **…**

## **I**

**…** **…**

**…** **…** **…**

**…** **…**

**…** **…**

**…** **…**

## **I**

**…** **…**

**.**

**…** **…** **…**

**…** **…**

**…** **…**

## **I**

Top View

**…** **…**

**…** **…** **…**

**…** **…**

**…** **…**

## **I**

**…** **…**

**.**

**…** **…** **…**

**…** **…**

**…** **…**

**…** **…**

## **I**

**…** **…**

**.**

**…** **…** **…**

**…** **…**

**…** **…**

**…** **…**

## **I**

**…** **…**

**.**

**…** **…** **…**

**…** **…**

**…** **…**

**…** **…**

## **I**

*(Note: Exceeding these limits may damage the device. Exposure to absolute (Note: Exceeding these limits may damage the device. Exposure to absolute*
*maximum rating conditions for long periods may affect device reliability.)maximum rating conditions for long periods may affect device reliability.)*

IN Pin Voltage to GNDIN Pin Voltage to GND………………………………………………………………--0.3V to 28V0.3V to 28V

VV ININ to GND Discharge Currentto GND Discharge Current……… **…** ……………………… **…** 5mA5mA

VV SYSSYS to GND Voltageto GND Voltage................................ **.** .................................................... --0.3V to 5.5V 0.3V to 5.5V

BAT pinBAT pin Voltage to GNDVoltage to GND……… **…** ………… **…** ………………. **…** --1V to 6V1V to 6V

All Other Pins Voltage to GNDAll Other Pins Voltage to GND… **…** …… **…** ……………………………--0.3V to 6V0.3V to 6V

VV SYSSYS,, VV BATBAT to to GGround round CCurrenturrent… **…** … **…** ….….....… Internally Internally LLimitedimited

Operating Operating Temperature Range……..Temperature Range **…** ……. **…** …..….––40° C to 85° C40°C to 85°C

## **I**

**…** **…**

**.**

**…** **…** **…**

**…** **…**

**…** **…**

**…** **…**

|INPUT AND BATTERY CONDITION|Col2|Col3|Col4|Col5|Col6|
|---|---|---|---|---|---|
|Input Under Voltage Lock Out Threshold|V Falling<br>IN|3.63|3.73|3.83|V|
|V Hysteresis<br>IN_UVLO|V Rising<br>IN||170||mV|
|Input Over Voltage Protection Threshold|V Rising<br>IN|5.85|6|6.15|V|
|V Hysteresis<br>IN_OVP|V Falling<br>IN||350||mV|
|Input Clamp Voltage|Test for having 1mA clamp current.|20|||V|
|Input Discharge Current|V = 21V<br>IN||5||mA|
|V (Sleep-Mode Entry Threshold, V –<br>HDRM IN<br>V )<br>BAT|V Falling vs. V<br>IN BAT||85||mV|
|Sleep-Mode Exit Hysteresis|V Rising vs. V<br>IN BAT|100|130|160|mV|
|BAT Input Voltage Range||||5|V|
|Input Detection Deglitch Time|For either under-voltage or over-voltage||250||µ s|
|Input Power Detection Time|Time before reporting Power ON or OFF|50|75|100|ms|

#### www.etasolution.com 2 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662







|PARAMETER|TESTCONDITIONS|MIN|TYP|MAX|UNIT|
|---|---|---|---|---|---|
|Battery Under Voltage Lockout Threshold<br>(Falling)|V [2:0] = 000<br>BAT_UVLO|2.3|2.4|2.5|V|
|Battery Under Voltage Lockout Threshold<br>(Falling)|V [2:0] = 100<br>BAT_UVLO|2.66|2.76|2.86|V|
|Battery Under Voltage Lockout Threshold<br>(Falling)|V [2:0] = 111<br>BAT_UVLO|2.93|3.03|3.13|V|
|V Hysteresis<br>BAT_UVLO|V Falling, V =2.76V(Default)<br>BAT BAT_UVLO||210||mV|
|Battery Over Voltage Protection<br>Threshold|V Rising, higher than V<br>BAT TERM||130||mV|
|V Hysteresis<br>BAT_OVP|V Falling<br>BAT||70||mV|
|Battery Over-Voltage Discharge Current|||5||µ A|









|SUPPLY CURRENT CONDITION|Col2|Col3|Col4|Col5|Col6|Col7|
|---|---|---|---|---|---|---|
|Input Quiescent Current|V =5.5V, I =0A,<br>IN SYS<br>I CHG=0A,EN_HIZ =0|CEB=0||250||µ A|
|Input Quiescent Current|V =5.5V, I =0A,<br>IN SYS<br>I CHG=0A,EN_HIZ =0|CEB=1||200||µ A|
|Input Suspend Current|V =5.5V,V =4.3V,EN_HIZ =1<br>IN BAT|V =5.5V,V =4.3V,EN_HIZ =1<br>IN BAT||70||µ A|
|Battery Quiescent Current|V =5V, CEB=0, V =4.3V,<br>IN BAT<br>I =0A, Charge done<br>SYS|V =5V, CEB=0, V =4.3V,<br>IN BAT<br>I =0A, Charge done<br>SYS||12||µ A|
|Battery Quiescent Current|V =GND, CEB=1, V =1,<br>IN DD_GATE<br>BFET_DIS=0,SWITCH_MODE=0,<br>V =4.35V, I =0A,disable driving to<br>BAT SYS<br>external NTC circuit|V =GND, CEB=1, V =1,<br>IN DD_GATE<br>BFET_DIS=0,SWITCH_MODE=0,<br>V =4.35V, I =0A,disable driving to<br>BAT SYS<br>external NTC circuit||5||µ A|
|Battery Quiescent Current|V =GND,SWITCH_MODE=1,<br>IN<br>V =4.35V, I =0A,disable driving to<br>BAT SYS<br>external NTC circuit|V =GND,SWITCH_MODE=1,<br>IN<br>V =4.35V, I =0A,disable driving to<br>BAT SYS<br>external NTC circuit||1||µ A|
|Battery Quiescent Current|V =GND, CEB=1, I =0A<br>IN SYS<br>V =4.35V,Enable PCB OTP function,<br>BAT<br>not include the external NTC bias|V =GND, CEB=1, I =0A<br>IN SYS<br>V =4.35V,Enable PCB OTP function,<br>BAT<br>not include the external NTC bias||8||µ A|
|Battery Quiescent Current|V =GND,CEB=1,V =4.35V,I =0A,<br>IN BAT SYS<br>Enable PCB OTP function and Watchdog,<br>not include the external NTC bias|V =GND,CEB=1,V =4.35V,I =0A,<br>IN BAT SYS<br>Enable PCB OTP function and Watchdog,<br>not include the external NTC bias||22||µ A|
|Battery Quiescent Current|V =4.5V, V =V =0V,FET_DIS=1,<br>BAT IN SYS<br>shipping mode|V =4.5V, V =V =0V,FET_DIS=1,<br>BAT IN SYS<br>shipping mode|||1|µ A|



|POWER PATH MANAGEMENT|Col2|Col3|Col4|Col5|Col6|Col7|
|---|---|---|---|---|---|---|
|Regulated System Output Voltage<br>Accuracy|V = 5.5V,<br>IN<br>R =100Ω<br>SYS|V [3:0]=0000<br>SYSREG|4.15|4.2|4.25|V|
|Regulated System Output Voltage<br>Accuracy|V = 5.5V,<br>IN<br>R =100Ω<br>SYS|V [3:0]=1001<br>SYSREG|4.60|4.65|4.70|4.70|
|Regulated System Output Voltage<br>Accuracy|V = 5.5V,<br>IN<br>R =100Ω<br>SYS|V [3:0]=1111<br>SYSREG|4.90|4.95|5.00|5.00|

#### www.etasolution.com 3 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662












|PARAMETER|TESTCONDITIONS|MIN|TYP|MAX|UNIT|
|---|---|---|---|---|---|
|System Over Voltage Protection to<br>Discharger|V Rising, As Percentage of V<br>SYS SYS_REG||10||%|
|V Hysteresis<br>SYS_OVP|V Falling, As Percentage of V<br>SYS SYS_REG||5||%|
|V Discharge Resistance<br>SYS|V > V<br>SYS SYS_OVP||400||Ω|
|Input Minimum Voltage Regulation|VINDPM[3:0]=0000|3.78|3.88|3.98|V|
|Input Minimum Voltage Regulation|VINDPM[3:0]=1001|4.50|4.60|4.70|4.70|
|Input Minimum Voltage Regulation|VINDPM[3:0]=1111|4.98|5.08|5.18|5.18|
|Input Current Limiting|IN_ILIM[3:0]=0000 for I =50mA<br>IN_LIM|30|40|50|mA|
|Input Current Limiting|IN_ILIM[3:0]=0011 for I =140mA<br>IN_LIM|125|135|155|155|
|Input Current Limiting|IN_ILIM[3:0]=1001 for I =320mA<br>IN_LIM|200|320|340|340|
|Input Current Limiting|IN_ILIM[3:0]=1111 for I =500mA<br>INDPM|440|470|500|500|
|IN to SYS Switch On Resistance|V =4.5V, I =100mA<br>IN SYS||270||mΩ|
|BATFET On Resistance|V < 2V, V =3.5V, I =100mA<br>IN BAT SYS||170||mΩ|
|Battery Discharge Current Limit|IDISCHG[3:0] = 0001||400||mA|
|Battery Discharge Current Limit|IDISCHG[3:0] = 1001||2000|||
|Battery Discharge Current Limit|IDISCHG[3:0] = 1111||3200|||
|Discharge Short Circuit Limit|||3.7||A|
|Maximum V Current to Shutoff<br>IN|V falling below V<br>SYS HSHORT||360||mA|
|V (V Short Detection Threshold)<br>HSHORT SYS|||1.5||V|
|Delay Before Over Current Cut|||60||µ s|
|Delay Before Retry After Cut|||800||µ s|
|Ideal Diode Forward Voltage in<br>Supplement Mode|10mA Discharge Current||20||mV|


**DYNAMIC POWER MANAGEMENT AND BATTERY SUPPLEMENTDYNAMIC POWER MANAGEMENT AND BATTERY SUPPLEMENT**

|SYS Drop For Lowering Charging|Col2|Col3|90|Col5|mV|
|---|---|---|---|---|---|
|IN Drop For Lowering Charging|||160||mV|
|V - V Drop For Supplement<br>SYS BAT|||30||mV|
|V - V Regulation in Supplement<br>SYS BAT|||22.5||mV|
|V - V Drop For Exit Supplement<br>SYS BAT|||20||mV|





|SHIPPING MODE AND BATFET RESET|Col2|Col3|Col4|Col5|Col6|
|---|---|---|---|---|---|
|Enter Shipping Mode Deglitch Time|FET_DIS is set from 0 to 1,<br>EN_SHIPPING_DGL[1:0]=00||1||s|
|Exit Shipping Mode by Push Button|nINT is pulled low||2||s|

#### www.etasolution.com 4 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662



|PARAMETER|TESTCONDITIONS|MIN|TYP|MAX|UNIT|
|---|---|---|---|---|---|
|Exit Shipping Mode by V Plug-in<br>IN|||68||ms|
|Reset by nINT|t = 00<br>RST_DGL[1:0]||8||s|
|Reset by nINT|t = 10<br>RST_DGL[1:0]||16|||
|BATFET Off Lasting Time|t = 0<br>RST_DGL [0]||2||s|
|BATFET Off Lasting Time|t = 1<br>RST_DGL [0]||4|||








|BATTERY CHARGER|Col2|Col3|Col4|Col5|Col6|
|---|---|---|---|---|---|
|Battery Charge Termination Voltage<br>Regulation (Aging and pre-condition drift<br>included in 0oC~50oC)|VTERM[5:0] = 000000|3.582|3.60|3.618|V|
|Battery Charge Termination Voltage<br>Regulation (Aging and pre-condition drift<br>included in 0oC~50oC)|VTERM[5:0] = 101000|4.179|4.200|4.221|4.221|
|Battery Charge Termination Voltage<br>Regulation (Aging and pre-condition drift<br>included in 0oC~50oC)|VTERM[5:0] = 110010|4.358|4.380|4.402|4.402|
|Battery Charge Termination Voltage<br>Regulation (Aging and pre-condition drift<br>included in 0oC~50oC)|VTERM[5:0] = 111110|4.522|4.545|4.568|4.568|
|Fast Charge Current|ICHRG[5:0]=000000||8||mA|
|Fast Charge Current|ICHRG[5:0]=001011|91|96|101|101|
|Fast Charge Current|ICHRG[5:0]=100000|251|264|277|277|
|Fast Charge Current|ICHRG[5:0]=111000|433|456|479|479|
|Pre-Charge Current|I = I<br>PRE TERM|1||31|mA|
|Charge Termination Current Threshold|ITERM[3:0]=0000||1||mA|
|Charge Termination Current Threshold|ITERM[3:0]=0001|2.7|3|3.3|3.3|
|Charge Termination Current Threshold|ITERM[3:0]=0101|10|11|12|12|
|Charge Termination Current Threshold|ITERM[3:0]=1111|28|31|34|34|
|Precondition to Fast Charge Threshold|Rising, VPRECOND = 1|2.9|3.0|3.1|V|
|Precondition to Fast Charge Hysteresis|Falling||90||mV|
|Auto Recharge Voltage Threshold|Below V, VRECHG = 0<br>TERM|70|100|130|mV|
|Auto Recharge Voltage Threshold|Below V, VRECHG = 1<br>TERM|160|200|240|240|
|Termination Deglitch Time|||200||ms|
|Battery Auto-Recharge Deglitch Time|||200||ms|
|Fast Charge Safety Timer|CHG_TMR [1:0]=01, EN_TIMER = 1||5||hrs|





|THERMAL PROTECTION|Col2|Col3|Col4|Col5|Col6|
|---|---|---|---|---|---|
|Junction Temperature Regulation Range|I2C programmable range|60||120|˚C|
|Junction Temperature Regulation|TJ_REG[1:0] =11 for Thermal<br>Regulation=120ºC||120||˚C|
|Thermal Shutdown Threshold|||150||˚C|
|Thermal Shutdown Hysteresis|||20||˚C|

#### www.etasolution.com 5 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662



|PARAMETER|TESTCONDITIONS|MIN|TYP|MAX|UNIT|
|---|---|---|---|---|---|
|NTC Pin Output Current|V = 3V<br>NTC|-100|0|100|nA|
|NTC Cold Temperature Threshold|V Rising, As percentage of V<br>NTC LDO|63|65|67|%|
|NTC Cold Temperature Hysteresis|V Falling, As percentage of V<br>NTC LDO||30||mV|
|NTC Hot Temperature Threshold|V Falling, As percentage of V<br>NTC LDO|31|33|35|%|
|NTC Hot Temperature Hysteresis|V Rising, As percentage of V<br>NTC LDO||70||mV|
|NTC Hot Temperature Threshold for PCB<br>OTP|V Falling, As percentage of V<br>NTC LDO|30|32|34|%|
|NTC Hot Temperature Hysteresis for PCB<br>OTP|V Rising, As percentage of V<br>NTC LDO||85||mV|


**LOGIC IO PIN SPECIFICATION, nINT, SCL, SDALOGIC IO PIN SPECIFICATION, nINT, SCL, SDA**

|Input Low Logic Voltage Threshold|Falling|Col3|Col4|0.4|V|
|---|---|---|---|---|---|
|Input High Logic Voltage Threshold|Rising|1.3|||V|
|Output Low Level|I = 5mA<br>SINK|||0.4|V|



**II** **[22]** **C SPECIFICATIONC SPECIFICATION**

**WATCHDOGWATCHDOG**
#### www.etasolution.com 6 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## PIN DESCRIPTIONPIN DESCRIPTION 







|PIN #|PIN NAME|TYPE|DESCRIPTION|
|---|---|---|---|
|A1|IN|P|Input Power Pin. Place a ceramic capacitor from IN pin to GND as close as possible to this<br>device.|
|A2|SYS|P|System Power Supply. Place a ceramic capacitor from SYS pin to GND as close as possible<br>to this device.|
|A3|BAT|P|Battery Pin. Place a ceramic capacitor from BAT pin to GND as close as possible to IC.|
|B1|NTC|AIO|Battery Temperature Qualification Input Pin. Connect a negative temperature coefficient<br>thermistor. Program temperature window with a resistor divider from VDD to NTC to GND.<br>Charge suspends when either NTC pin is out of range. When NTC pin is not used, connect<br>a 10-kΩ resistor from VDD to NTC and connect a 10-kΩ resistor from NTC to GND. Or NTC<br>can be used like charge disable input pin.|
|B2|nINT|AIO|Interrupt Output and Battery FET Reset Input pin. The nINT pin sends charging status and<br>fault notification to the host.<br>This pin is also used to reset the system from the battery. Refer to “Interrupt to Host (nINT)”<br>and “Battery Disconnection Function” sections for detail information.|
|B3|VDD|P|Internal Control Power Supply Pin. Connect a 0.1μF ceramic cap from this pin to GND.|
|C1|SDA|DIO|I2C Interface Data. Connect SDA pin to the logic rail through a 10kΩ resistor.|
|C2|SCL|DI|I2C Interface Clock. Connect SCL pin to the logic rail through a 10kΩresistor.|
|C3|GND|P|Ground Pin|

#### www.etasolution.com 7 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## FUNCTIONAL BLOCK DIAGRAMFUNCTIONAL BLOCK DIAGRAM 
























|Col1|N S<br>Qbypass Qrys<br>LDO<br>Regulator Qswitch<br>Iin_lim_REF gm_ilim Body<br>LOOP switch<br>DD CONTROL<br>gm_dpm<br>Vin-DPM<br>BAT<br>IBATTERY<br>VSYS<br>VIO Vsysreg gm_sys gm_Ichrg ICHR REG-F<br>Regulator<br>Vbat -20mV B<br>gm_fwd gm_Vterm<br>Vsys V<br>TER REM-F<br>NT<br>EOC Iterm_REF<br>Interrupt Ibattery<br>Control<br>ND<br>RECHG Vterm-Vrechg<br>Vbat<br>A I2C Charger PRECOND Vbat<br>Interface Register Control Vprecon_REF<br>CL<br>OVP Vvin<br>Thermistor 6V<br>C<br>Monitor<br>VBAT+130mV SLEEP nUVLO Vvin<br>VVIN 3.9V|Col3|Col4|
|---|---|---|---|
|I|N|S|YS|
|||||
|V|DD|DD|DD|
|||||
|||B|AT|
|||B||
|nI|NT|NT|NT|
|||||
|G|ND|ND|ND|
|SD|SD|SD|SD|
|S|S|S|S|
|||||
|NT|NT|NT|NT|
|||||




#### www.etasolution.com 8 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## TYPICAL PERFORMANCE CHARACTERISTICS CONT’DTYPICAL PERFORMANCE CHARACTERISTICS CONT’D 

(V(V ININ =5V, V=5V, V BATBAT =4.2V unless otherwise specified. Typical values are at TA = 25=4.2V unless otherwise specified. Typical values are at TA = 25C.)C.)

***Minimum Input Regulation Voltage vs. TemperatureMinimum Input Regulation Voltage vs. Temperature*** ***Input Current Limit Input Current Limit Regulation vs. TemperatureRegulation vs. Temperature***
#### www.etasolution.com 9 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## TYPICAL PERFORMANCE TYPICAL PERFORMANCE CHARACTERISTICS CONT’DCHARACTERISTICS CONT’D 

(V(V ININ =5V, V=5V, V BATBAT =4.2V unless otherwise specified. Typical values are at TA = 25=4.2V unless otherwise specified. Typical values are at TA = 25C.)C.)


***Charging Profile CurveCharging Profile Curve***

CH1 = VCH1 = V ININ,,CH2 CH2 == VV SYSSYS,CH3 = V,CH3 = V BATBAT,,CH4 = ICH4 = I BATBAT

CH3 = VCH3 = V BATBAT,CH4 = I,CH4 = I BATBAT, nCE[ ] = 1, nCE[ ] = 1


***Recharging Profile CurveRecharging Profile Curve***

CH1 = VCH1 = V ININ,CH2 = V,CH2 = V SYSSYS,CH3 = V,CH3 = V BATBAT,CH4 = I,CH4 = I BATBAT

CH3 = VCH3 = V BATBAT,CH4 = I,CH4 = I BATBAT, nCE[ ] = 0, nCE[ ] = 0

#### www.etasolution.com 10 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## TYPICAL PERFORMANCE CHARACTERISTICS CONT’DTYPICAL PERFORMANCE CHARACTERISTICS CONT’D 

(V(V ININ =5V, V=5V, V BATBAT =4.2V unless otherwise specified. Typical values are at TA = 25=4.2V unless otherwise specified. Typical values are at TA = 25C.)C.)

**V**


***VIN PlugVIN Plug--in, Charge Startin, Charge Start--Up to Supplement WaveformUp to Supplement Waveform***

CH1 = VCH1 = V ININ, CH2 = V, CH2 = V SYSSYS,,

CH3 = VCH3 = V BATBAT,CH4 = I,CH4 = I BATBAT, nCE[ ] = 0, nCE[ ] = 0

**V**

**V**

**V**


CH1 = VCH1 = **V** INVIN, CH2 = V, CH2 = V SYSSYS,,

CH3 = CH3 = VV BATBAT,CH4 = I,CH4 = I BATBAT, nCE[ ] = 0, nCE[ ] = 0


***VIN UnVIN Un--Plug, Charge Stop from Supplement WaveformPlug, Charge Stop from Supplement Waveform***

CH1 = VCH1 = V ININ, CH2 = V, CH2 = V SYSSYS,,

CH3 = VCH3 = V BATBAT,CH4 = I,CH4 = I BATBAT, nCE[ ] = 0, nCE[ ] = 0

**V**


**V**


**V**


**V**


**V**
#### www.etasolution.com 11 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## TYPICAL TYPICAL PERFORMANCE CHARACTERISTICS CONT’DPERFORMANCE CHARACTERISTICS CONT’D 

(V(V ININ =5V, V=5V, V BATBAT =4.2V unless otherwise specified. Typical values are at TA = 25=4.2V unless otherwise specified. Typical values are at TA = 25C.)C.)


***NTC Voltage Rising in Charge ModeNTC Voltage Rising in Charge Mode***

CH1 = VCH1 = V SYSSYS, CH2 =, CH2 = VV NTCNTC,,

CH3 = CH3 = VV nINTnINT, CH4 = I, CH4 = I BATBAT,,

nCE[ ] = 0, EN_NTC[ ] = 1, ENB_PCB_OTP[ ] = 1nCE[ ] = 0, EN_NTC[ ] = 1, ENB_PCB_OTP[ ] = 1


***NTC NTC Voltage Falling in Charge ModeVoltage Falling in Charge Mode***

CH1 = VCH1 = V SYSSYS, CH2 = V, CH2 = V NTCNTC,,

CH3 = VCH3 = V nINTnINT, CH4 = I, CH4 = I BATBAT,,

nCE[ ] = 0, EN_NTC[ ] = 1, ENB_PCB_OTP[ ] = 1nCE[ ] = 0, EN_NTC[ ] = 1, ENB_PCB_OTP[ ] = 1

#### www.etasolution.com 12 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## OPERATIONOPERATION
### General DescriptionGeneral Description

The ETA4662 is a single cell battery charger with power path management function for LiThe ETA4662 is a single cell battery charger with power path management function for Li--Ion and Ion and LiLi--Polymer battery. It features Polymer battery. It features
prepre--charging, fast charging (CC) and constant voltage (CV) charging, endcharging, fast charging (CC) and constant voltage (CV) charging, end--of charging termination, and autoof charging termination, and auto--recharge, and builtrecharge, and built-in safein safe--timer preventing from being overtimer preventing from being over--charged or host running out of control.charged or host running out of control.
A bypass FET betA bypass FET between ween VVIN and SYS pin, and a battery switch FET between SYS and BAT pin IN and SYS p **i** n, and a battery switch FET between SYS and BAT pin sis integrated for providing in **t** egrated for providing oto
complete power path management. System load is prior in getting power from the input or is switched to battery power when complete power path management. System load is prior in getting power from the input or is switched to battery power when
the input is weak or the input is weak o **r** emoved. Power to the battery is regulated by the battery switch FET during charging, while the input removed. Power to the battery is regulated by the battery switch FET during charging, while the input
voltage, input current, voltage to system load, chip temperature and sensed external temperature are kept in priority.voltage, input current, voltage to system load, chip temperature and sensed external temperature are kept in priority.
错误错误 *!!* 未找到引用源。未找到引用源。 ***1:1:*** shows the power path and key circuit blocks in the ETA4662, where the Qshows the power path and key circuit blocks in the ETA4662, where the Q BYPASSBYPASS regulates voltage regulates voltage
to the system load and to the circuit for chargito the system load a **n** d to the circuit for chargig, the Qng, the Q RVSRVS prevents reverse leakage from the SYS node to prevents reverse leakage from the SYS node to VVIN node and the IN node and the
QQ SWITCHSWITCH regulates for charging or gates the discharging from the BAT node to SYS node. The charging circuit and the dischargingregulates for charging or gates the discharging from the BAT node to SYS node. The charging circuit and the discharging
circuitcircuit have their own UVLO and bias, and the commonhave their own UVLO and bias, and the common circuit is powered by the higher voltage of the IN node or SYS node. circuit is powered by the higher voltage of the IN node or SYS node.
The I/F is ready whenever any power is available.The I/F is ready whenever any power is available.
The power fed to the SYS pin is recycled when watchdog times out, the host does not response to IN power input(when The power fed to the SYS pin is recycled when watchdog times out, the host does not response to IN power input(when

watchdog is forced owatchdog is forced on) or BFET_RESET[1] is set 1, to clear the running environment before system program upgrade or n) or BFET_RESET[1] is set 1, to clear the running environment before system program upgrade or

**e**

**s**

**n**


**i** **t**

**r**

**n**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

unless the battery is set into disconnected state. The nINT assertunle **s** s the battery is set into disconnected state. The nINT assert pulse whenever an effective input change is certified, while s pulse whenever an effective input change is certified, while
the changes occurring within tthe changes occurring within t PWMPWM do not assert pulse.do not assert pulse.
The watchdog timer register is set 01 once the valid input is detected and when a nINT pulse is asserted, whichThe watchdog timer register is set 01 once the valid input is detected and when a nINT pulse is asserted, which resumes its resumes its
original settiorigi **n** al settig when any writing to this device occurs. If the host does not reset theng when any writing to this device occurs. If the host does not reset the watchdog, power to the host is recycled watchdog, power to the host is recycled
when watchdog runs time out.when watchdog runs time out.


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**

VIN_OVP

VIN_UVLO


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**


**i** **t**

**r**

**n**

**e**

**s**

**n**

|Col1|Col2|t|Col4|t|Col6|t|Col8|t|Col10|
|---|---|---|---|---|---|---|---|---|---|
|||tPWD||tPWD||tPWD||tPWD||
|HYST|HYST|||||tINI||||
|tINI|tINI|||||||||
|HYST||||||||||
|V<br>IN<br>V<br>SYS|V<br>IN<br>V<br>SYS|tINT_PULSE||||tINT_PULSE||||
|V<br>IN<br>V<br>SYS|V<br>IN<br>V<br>SYS|tINT_PULSE||||tINT_PULSE||||
|V<br>IN<br>V<br>SYS|V<br>IN<br>V<br>SYS|tINT_PULSE||||||||
|I,I<br>IN BAT|I,I<br>IN BAT|I,I<br>IN BAT|I,I<br>IN BAT|tINT_PULSE||||||
|I,I<br>IN BAT|I,I<br>IN BAT|I,I<br>IN BAT||||||||
|||||||||||
|nINT|nINT|||||||||



Figure 2: Input Power Detection and Operation TimingsFigure 2: Input Power Detection and Operation Timings
#### www.etasolution.com 13 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
### Power Path Power Path ManagementManagement 

When the input is available (VWhen the input is available (V ININ  - V> V IN_UVLOIN_UVLO, V, V ININ -- VV SYSSYS  - V> V HDRMHDRM ), the device intends to power the system load with input by ), the device intends to power the system load with input by
regulating the input voltage to Vregulating the input voltage to V SYS_REGSYS_REG (V(V SYSSYS is decided by the input voltage, input current limit and battery voltage iis decided by the i **n** put voltage, input current limit and battery voltage i reality). n reality).
VV SYS_REGSYS_REG is programmed through REG07[3:0], The Qis programmed through REG07[3:0], The Q BYPASSBYPASS and Qand Q SWITCHSWITCH are also manipulated by corresponding register bits, as are also manipulated by corresponding register bits, as
showed in the showed in the 错误 **!!** 未找到引用源。 ..
**Table** **Table** **1** **1** **. FET Control by I** **. FET Control by I** **[22]** **C** **C**

|FETs|EN_HIZ = 1|CEB = 1|
|---|---|---|
|Q<br>BYPASS|OFF|X|
|Q (Charging)<br>SWITCH|X|OFF|
|Q (Discharging)<br>SWITCH|X|X|



NOTE: X = Don't Care.NOTE: X = Don't Care.
### Battery Charge ProfileBattery Charge Profile 

The charging profile managed by the device is as shown in The charging profile managed by the device is as shown in 错误错误 *!!* 未找到引用源。未找到引用源。 ***ee33***, which is segmented as following, which is segmented as following
phases:phases:










No safety timer fault.No safety timer fault.



**n**

**Table** **1** **. FET Control by I** **C**

No battery over voltage event.No battery over voltage event.
 The QThe Q SWITCHSWITCH is not forced to turn offis not forced to turn off

V TERM

I PRE =I TERM

|Col1|Col2|Col3|Col4|Col5|Col6|
|---|---|---|---|---|---|
|||||||
|||||||
|Charge<br>Current|Battery<br>Voltage|||||
|||||||
|||||||
|Precondition|Fast Charge|CV Charge|Termination|Discharge|Auto Recharg|

#### www.etasolution.com 14 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662

Figure 3: Battery Charge Profile: Battery Charge Profile
### Battery OverBattery Over--Voltage Voltage ProtectionProtection 

This device is designed with a builtThis device is designed with a built--in battery overin battery over--voltage limit about VBAT_OVP higher than the VBAT_REG. When the battery voltage limit about VBAT_OVP higher than the VBAT_REG. When the battery
overover--voltage event occurs, the device immediately suspends the charging and asserts a fault. A discharging path is turnevoltage event occurs, the **d** evice immediately suspends the charging and asserts a fault. A discharging path is turne on d on
when the battery OVP keeps.when the battery OVP keeps.
### Input Current and Input Voltage Based Power Input Current and Input Voltage Based P ower ath Path ManagementManagement 

To meet the input source (USB usually) maximum current limit specification, the IC features the input current based power To meet the input source (USB usually) maximum current limit specification, the IC features the input current based power
management by continuously monitoring themanagement by continuously monitoring the input current. The total input current limit can be programmed via the I2C to prevent input current. The total input current limit can be programmed via the I2C to prevent
the input source from overthe input source from over--loaded. loaded.
If the preset input current limit is higher than the rating of the input source, the backIf the preset input current limit is higher than the rating of the input source, the back--up input voltage based power management up input voltage based power management
alsalso works to prevent the input source from being overo works to prevent the input source from being over--loaded. Either the input current limit or the input voltage limit is reached, loaded. Either the input current limit or the input voltage limit is reached,
the Qthe Q BYPASSBYPASS between IN and SYS pinbetween IN and SYS pin will be regulated so that the total input power will be limited. As a result the system volwill be regula **t** ed so that the total input power will be limited. As a result the system volage tage
drops, once the system declines to minimum value of the VSYS_REG drops, once the system declines to minimum value of the VSYS_REG -- DVSYS_LOW and VIN DVSYS_LOW and VIN -- DVIN_LOW, the charge current DVIN_LOW, the charge current
will be reduced to prevent the system voltage from dropping further. will be reduced to prevent the system voltage from dropping further.
The voltage based dynamic power management (DPM) will regulate thTh **e** voltage based dynamic power management (DPM) will regulate th input voltage to VIN_MIN when the load is over the e input voltage to VIN_MIN when the load is over the
input power capacity.input power capacity.


**d**
### **P**

**t**

**e**


**d**
### **P**

**t**

**e**

**e**


**d**
### **P**

**t**

**e**

**e**


**d**
### **P**

**t**

**e**

**e**


**d**
### **P**

**t**

**e**

**e**

I DISCHG *R ON_BATFET


**d**
### **P**

**t**

**e**

**e**


**d**
### **P**

**t**

**e**

**e**

|ISYS|Col2|Col3|Col4|Col5|Col6|Col7|Col8|Col9|Col10|Col11|Col12|
|---|---|---|---|---|---|---|---|---|---|---|---|
|ISYS||||||||||||
|ISYS||||||||||||
|IVIN|IVIN|IVIN|IVIN|IVIN|IVIN|IVIN|IVIN|IVIN|IVIN|IVIN|IVIN|
|IVIN|IVIN|||min(VSYSREG - 90|mV, VVI|mV, VVI|N - 1|N - 1|60mV|)<br>20mV||
|VSYS|VSYS|VSYS|VSYS|VSYS|VSYS|VSYS|VSYS|VSYS|VSYS|VSYS|VSYS|
|VBAT||||||||||||
|VBAT||||||||||||
|IBAT||||30|mV||||||IDISCHG*|
|IBAT||||30||||||||
|IBAT||||30||||||||
|Charge<br>0<br>Discharge<br>SYS<br>QSWITCH Gate||||||||||||
|Charge<br>0<br>Discharge<br>SYS<br>QSWITCH Gate||||||||||||
|Charge<br>0<br>Discharge<br>SYS<br>QSWITCH Gate||||||||||||
|Charge<br>0<br>Discharge<br>SYS<br>QSWITCH Gate||||||||||||
|Charge<br>0<br>Discharge<br>SYS<br>QSWITCH Gate||||||||||||
|Charge<br>0<br>Discharge<br>SYS<br>QSWITCH Gate||||||||||||
|Charge<br>0<br>Discharge<br>SYS<br>QSWITCH Gate||||||||||||
|0||||||||||||
|0||||||||||||



Figure 4: Dynamic Power Management and Battery Supplement Operation Profile: Dynamic Power Management and Battery Supplement Operation Profile
### Battery Regulation VoltageBattery Regulation Voltage 
#### www.etasolution.com 15 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662

The battery voltage for The ba **t** tery voltage for he constant voltage regulation phase is Vthe constant voltage regulation phase is V BAT_REGBAT_REG . When battery is float, the BAT pin voltage varies . When battery is float, the BAT pin voltage varies
between Vbetween V BAT_REGBAT_REG -- VV RECHRECH and Vand V BAT_REGBAT_REG ..
### Thermal Regulation and ShutdownThermal Regulation and Shutdown 

The device continuously monitors the internal junction temperature to maximize powerThe device continuously monitors the internal junction temperature to maximize power delivery and avoid overheating the chip. delivery and avoid overheating the chip.
When the internal junction temperature reaches preset limit of TWhen the internal junction temperature reaches preset limit of T J_REGJ_REG, the device starts to reduce the charge current to prevent, the device starts to reduce the charge current to prevent
higher power dissipation. The programmable thermal regulation thresholds help system higher power **d** issipation. The programmable thermal regulation thresholds help system esign to meet the thermal requirement design to meet the thermal requirement
in different applications. The junction temperature regulation threshold can be set via in different applications. **T** he junction temperature regulation threshold can be set via J_REG[1:0]TJ_REG[1:0]. .
When the junction temperature reaches TWhen the junction temperature reaches T J_SHDNJ_SHDN that is slightly higher than most high programmable thermal regulatiothat is slightly higher tha **n** most high programmable thermal regulatio n
temperature threshold, both the Qtemperature threshold, both the Q BYPASSBYPASS and Qand Q SWITCHSWITCH are turned off.are turned off.
### NTC Sensing and VDD GatingNTC Sensing and VDD Gating 

The NTC pin allows the device to sense the battery temperature using the thermistor usually available in the battery pack to The NTC pin allows the device to sense the battery temperature using the thermistor usually available in the battery pack to
ensure a safe operating **e** nsure a safe operating nvironment of the chip. A resistor with appropriate value should be connected from VDD pin to NTC environment of the chip. A resistor with appropriate value should be connected from VDD pin to NTC
pin and the thermistor is connected from NTC pin to ground. The voltage on NTC pin is determined by the resistor divider whospin and th **e** thermistor is connected from NTC pin to ground. The voltage on NTC pin is determined by the resistor divider whos e
divide ratio depends on temperdivide r **a** tio depends on temperture. The device internally sets a preature. The device internally sets a pre--determined upper and lower bound of the divide ratio for determined upper and lower bound of the divide ratio for
NTC cold and NTC hot.NTC cold and NTC hot.

|I2C CONTROL|Col2|FUNCTION|
|---|---|---|
|EN_NTC|EN_PCB OTP|EN_PCB OTP|
|0|x|Disable|
|1|1|NTC|
|1|0|PCB OTP|



DIS_VDD.DIS_VDD.
### Safety TimerSafety Timer 

conditions. The safety timer is 1hr when battery voltage is lower condi **t** ions. The safety timer is 1hr when battery voltage is lower han Vthan V BAT_PREBAT_PRE . The charge safety timer starts when the battery . The charge safety timer starts when the battery

**t**

**d**
**T**
**n**

**e**
**e**
**a**

**t**

**f**

**d**

enters constantenters constant--current or constantcurrent or constant--voltage charge. The user can program charge safety timer through Ivoltage charge. The user can program charge safety timer through I [22] C. The safety timer C. The safety timer

feature can be disabled via Ifeature can be disabled via I [22] C. C.
The following actions restart the saThe **f** ollowing actions restart the saety timer: fety timer:


A new charge cycle is kicked in. A new charge cycle is kicked in.


Write REG01[3] from 1 to 0 (charge enable)Write REG01[3] from 1 to 0 (charge enable)


Write REG05[3] from 0 to 1 (safety timer enable) Write REG05[3] from 0 to 1 (safety timer enable)


Write REG02[7] from 0 to 1 (software reset) Write REG02[7] from 0 to 1 (software reset)


Write REG0A[4] from 0 to 1 (software power recycle)Write REG0A[4] from 0 to 1 (software power recycle)
### Host Mode and DefauHost Mode and Default Modelt Mode 

Upon power on reset, the device starts in the watchdog timer expiration state, or default mode. All the registers are in the Upon power on reset, the **d** evice starts in the watchdog timer expiration state, or default mode. All the registers are in the efault default
settings, when the EN_HIZ = 0, CEB = 1, power input and battery discharge are enabled.settings, when the EN_HIZ = 0, CEB = 1, power input and battery discharge are enabled.
Watchdog timer works in bothWatchdog timer works in both charge and discharge mode. When the watchdog timer runs time out, the power to load system charge and discharge mode. When the watchdog timer runs time out, the power to load system
recycles by cutting off the Qrecycles by cutting off the Q SWITCHSWITCH and Qand Q BYPASSBYPASS for the default of tfor the default of t RST_DURRST_DUR and all the registers in this device reset to the default and all the registers in this device reset to the default
value. value.
#### www.etasolution.com 16 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662

And to save the quiescent current during discharge mode, the watchdog timer can be turned off during discharge mode by set And to save the quiescent current during discharge mode, the watchdog timer can be turned off during discharge mode by set
the the EN_WD_DISCHGEN_WD_DISCHG bit to 0.bit to 0.
Any write to the device transits it to Any write to t **h** e device transits it to ost mode. If the watchdog timer (WATCHDOG[1:0]) is not disabled, the host has to reset host mode. If the watchdog timer (WATCHDOG[1:0]) is not disabled, the host has to reset
the watchdog timer regularly by writing 1 to REG02 the watchdog timer regularly by writing 1 to REG02 WD_RST bitWD_RST bit before the watchdog timer expires to keep the device in host before the watchdog timer expires to keep the device in host
mode. Once the watchdog timer expires, the demode. Once the watchdog timer expires, the device goes back into default mode. The watchdog timer limit can also be vice goes back into default mode. The watchdog timer limit can also be
programmed or disabled by host control.programmed or disabled by host control.
When the WATCHDOG[1:0] is set to 00, then the watchdog timer is disabled under both charge mode and discharge mode no When the WATCHDOG[1:0] is set to 00, then the watchdog timer is disabled under both charge mode and discharge mode no
matter matter EN_WD_DISCHGEN_WD_DISCHG status status is. is.
The operation could also be turned to default mode when one of the following conditions are valid: The operation could also be turned to default mode when one of the following conditions are valid:


Refresh input without batteryRefresh input without battery


ReRe--insert battery with no VINinsert battery with no VIN


Register reset REG_RST bit is set 1Register reset REG_RST bit is set 1
### Battery Discharge FunctionBattery Discharge Function 

If battery is If battery is connected and the input source is missing, the Qconnected and the input source is missing, the Q SWITCHSWITCH is fully on when VBAT is above the VBAT_UVLO threshold. is fully on when VBAT is above the VBAT_UVLO threshold.
The low Ron The low Ron QQ SWITCHSWITCH minimizes the conduction loss during discharge. The quiescent current of the device is as low as 6μA in minimizes the conduction loss during discharge. The quiescent current of the device is as low as 6μA in
this mode. By settingthis mode. By setting REG0A[3] = 1, the REG0A[3] = 1, the QQ SWITCHSWITCH keeps on with sensing circuit off, to further reduce the quiescent current to keeps on with sensing circuit off, to further reduce the quiescent current to
below 1μA. The low onbelow 1μA. The low on--resistance and low quiescent current help extend the running time.resistance and low quiescent current help extend the running time.

discharge.discharge.

current limit is reached, Icurrent limit is reached, **I** NIN is regulated at Iis regulated at **I** N_LIMIN_LIM the hiccup mode also starts after a 60µ s delay. The interval of the the hiccup mode also starts after a 60µs delay. The interval of the

**h**

**o**
**r**

**t**

**o**

hiccup mohiccup mode is 800us. de is 800us.
 ***BATT to SYS path:BATT to SYS path:*** Once IOnce I BATBAT is found over the 3.7A protection threshold, both the LDO FET and the BATT FET are is found over the 3.7A protection threshold, both the LDO FET and the BATT FET are
turned off immediately and the turned **o** ff immediately and the perationoperation of the IC goes into the hiccup mode. Besides, while the battery discharge of the IC goes into the hiccup mode. Besides, while the battery discharge
current limit thcu **r** rent limit theshold is reached, the hiccup mode also starts after a 60reshold is reached, the hiccup mode also starts after a 60μμs delay. The interval of the hiccup mode is s delay. The interval of the hiccup mode is
800us. 800us.


Particularly, if the system short circuit happens when both input and battery are present, the protection mechanism of Particularly, if the system short circuit happens when both input and battery are present, the protection mechanism of
both paths will work, bo **t** h paths will work, he faster one dominates the hiccup operation.the faster one dominates the hiccup operation.
### Interrupt to Host (INT)Interrupt to Host (INT) 

This device also has an alert mechanism which can output an interrupt signal via nINT pin to notify the system on the operatiThis device als **o** has an alert mechanism which can output an interrupt signal via nINT pin to notify the system on the operatin on
by outputting low for tby outputting low for t INT_PULSEINT_PULSE . Any of the events liste. Any of the events listed below triggers the nINT output.d below triggers the nINT output.


Good input source detectedGood input source detected


UVLO or input over voltage detectedUVLO or input over voltage detected


Charge completedCharge completed


Charging status changeCharging status change
#### www.etasolution.com 17 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662


Any fault recorded in REG09 (input fault, thermal fault, safety timer fault, battery OVP fault, NTC fault) and in REG08Any fault recorded in REG09 (input fault, thermal fault, safety timer fault, battery OVP fault, NTC fault) and in REG08[7] [7]
occurs.occurs.
When any fault occurs, this device sends out nINT pulse and latches the fault state in register bits correspondingly. After tW **h** en any fault occurs, this device sends out nINT pulse and latches the fault state in register bits correspondingly. After te he
device quit the fault state, the fault bit could be released to 0 after the host reads. The NTC fault is not latcheddevice quit the fault state, the fault bit could be released to 0 after the host reads. The NTC fault is not latched and always and always
reports the current thermistor conditions.reports the current thermistor conditions.
The INT signal can be masked when the corresponding control bit is set, which means, even the event which causes the INT The INT signal can be masked when the corresponding control bit is set, which means, even the event which causes the INT
signal happened, user can just keep the nINT high when the INT signal is not accsignal happ **e** ned, user can just keep the nINT high when the INT signal is not accptable in the application, via setting the INT eptable in the application, via setting the INT
control bit in REG06[4:0].control bit in REG06[4:0].
The nINT is pulled up to an unregulated low voltage that is not high enough to most logic circuit (in the circuit the device The nINT is pu **l** led up to an unregulated low voltage that is not high enough to most logic circuit (in the circuit the device oads), loads),
to avoid unexpected creeping powering and leakagto avoid un **e** xpected creeping powering and leakag during power recycling and in shipping mode; the nINT is pulled up to a e during power recycling and in shipping mode; the nINT is pulled up to a
high voltage in other states. Both the low voltage and high voltage are internally generated and pull up is weak and could behigh voltage in other states. Both the low voltage and high voltage are internally generated and pull up is weak and could be
overover--driven externally.driven externally.
### Battery Disconnection FunctionBattery Disconnection Function 

IIn the application that the battery is not removable, it’s essential to disconnect the battery from the system for shipping mon the application that the battery is not removable, it’s essential to disconnect the battery from the system for shipping mode in de in
stock or to allow the recycle of the system power during the application. ETA4662 provides both shipping mode (shown in stock or to allow the recycle of the system power during the application. E **T** A4662 provides both shipping mode (shown in able Table
33) and system power recycling for different applications. ) and system power recycling for different applications.

**Table** **Table** **3** **3** **. Shipping Mode Control**

**b**


**h**

**e**

**l**
**e**

**T**

**Table** **3**

**b**


**h**

**e**

**l**
**e**

**T**

**Table** **3**


**h**

**e**

**l**
**e**

**T**

**Table** **3**

**b**


**h**

**e**

**l**
**e**

**T**

**Table** **3**

**b**


**h**

**e**

**l**
**e**

**T**

**Table** **3**

**b**


**h**

**e**

**l**
**e**

**T**

**Table** **3**

|ITEMS|ENTER SHIPPING MODE|EXIT SHIPPING MODE|Col4|
|---|---|---|---|
|ITEMS|FET_DIS = 1|nINT Pin<br>H to L for 2s|VIN Plug In|
|LDO FET|X<br>(To disable LDO FET (VIN to<br>VSYS), set EN_HIZ[ ]=1)|X|ON|
|Q<br>SWITCH<br>(Charging)|OFF|ON|ON (2s Later)|
|Q<br>SWITCH<br>(Discharging)|OFF|ON|ON (2s Later)|



WDT Overflow


**h**

**e**

**l**
**e**

**T**

**Table** **3**

**b**

INT

V BATT

V SYS


**h**

**e**

**l**
**e**

**T**

**Table** **3**

**b**

|Col1|Col2|Col3|Col4|Col5|Col6|
|---|---|---|---|---|---|
|8s/16s|8s/16s|2s/4s|2s/4s|||
|8s/16s|8s/16s|2s/4s|2s/4s|4s||
|8s/16s||||||
|8s/16s||||||
|||||||
|||||||


**h**

**e**

**l**
**e**

**T**

**Table** **3**

**b**

Figure 5. Power Recycling Waveforms
#### www.etasolution.com 18 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## OPERATION DIAGRAMOPERATION DIAGRAM 

Main State MachineMain State Machine























































Figure 7: : Default Mode and Host Mode Selection
#### www.etasolution.com 19 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
#### Charger Flow ChartCharger Flow Chart 


V IN <V IN_nUVLO or V IN >V IN_OVP

or V IN < V BAT +V SLP
or CEB[ ] =1 or BATFET Off





















Figure 8: : Charger Flow Chart
#### www.etasolution.com 20 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
#### System Short Circuit ProtectionSystem Short Circuit Protection 







|REGULATION MODE<br>VSYS is regulated at V<br>SYSREG<br>NO<br>V < 1.5V<br>SYS<br>YES<br>YES I VIN > 360mA (Fixed)<br>Current Limit<br>NO<br>I > I NO<br>VIN IN_LIM<br>YES<br>CC MODE<br>Limit I at I<br>VIN IN_LIM<br>Start 60μs timer<br>NO<br>60μs Expired<br>YES<br>HICCUP MODE<br>Turn off Q1 and Q2,<br>Start 800μs timer<br>800μs Expired NO<br>YES<br>Turn On Q1 and Q2|Col2|
|---|---|
|REGULATION MODE<br>VSYS is regulated at V<br>SYSREG<br>NO<br>V < 1.5V<br>SYS<br>YES<br>YES I VIN > 360mA (Fixed)<br>Current Limit<br>NO<br>I > I NO<br>VIN IN_LIM<br>YES<br>CC MODE<br>Limit I at I<br>VIN IN_LIM<br>Start 60μs timer<br>NO<br>60μs Expired<br>YES<br>HICCUP MODE<br>Turn off Q1 and Q2,<br>Start 800μs timer<br>800μs Expired NO<br>YES<br>Turn On Q1 and Q2|Turn On Q1 and Q2|
|||

|BATTERY DISCHARGE<br>Battery Supplement or Discharged<br>NO<br>V < 1.5V<br>SYS<br>YES<br>Fold back BAT to VSYS<br>current I to 50%<br>BAT_DIS_LIM<br>YES I BAT > 3.7A (Fixed)<br>Current Limit<br>NO<br>NO<br>I > I<br>BAT BAT_DIS_LIM<br>YES<br>CC MODE<br>Limit I at I<br>BAT BAT_DIS_LIM<br>Start 60μs timer<br>NO<br>60μs Expired<br>YES<br>HICCUP MODE<br>Turn off Q1 and Q2,<br>Start 800μs timer<br>NO<br>800μs Expired<br>YES<br>Turn On Q1 and Q2|Col2|
|---|---|
|BATTERY DISCHARGE<br>Battery Supplement or Discharged<br>NO<br>V < 1.5V<br>SYS<br>YES<br>Fold back BAT to VSYS<br>current I to 50%<br>BAT_DIS_LIM<br>YES I BAT > 3.7A (Fixed)<br>Current Limit<br>NO<br>NO<br>I > I<br>BAT BAT_DIS_LIM<br>YES<br>CC MODE<br>Limit I at I<br>BAT BAT_DIS_LIM<br>Start 60μs timer<br>NO<br>60μs Expired<br>YES<br>HICCUP MODE<br>Turn off Q1 and Q2,<br>Start 800μs timer<br>NO<br>800μs Expired<br>YES<br>Turn On Q1 and Q2|Turn On Q1 and Q2|
|||


Figure 9: : System Short Circuit Protection
## APPLICATION INFORMATIONAPPLICATION INFORMATION 
#### Resistor Choose for NTC Sensor for Battery Temperature MonitorResistor Choose for NTC Sensor for Battery Temperature Monitor 

NTC pin uses a resistor divider from input source (VDD) to sense the battery temperature. The twoNTC pin uses a resistor divider from input source (VDD) to sense the battery temperature. The two resistors RT1 and RT2 allow resistors RT1 and RT2 allow
the high temperature limit and low temperature limit to be programmed independently, as shown in the high temperature limit and low temperature limit to be programmed independently, as shown in FigureFigure. In other word, this . In other word, this
device can fit most type of NTC resistor and different temperature operation range requirement with the two extra resistors.device can fit most type of NTC resistor and different temperature operation range requirement with the two extra resistors.
#### www.etasolution.com 21 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662

**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**ETA4662**

**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


R T1

R T 2 R NTC

**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


VLDO

NTC

**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


Low Temp Threshold ， Vcold

Battery Cold

Battery Hot

High Temp Threshold,Vhot

**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


~~C~~ ~~3~~

~~B1~~

**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


Figure 10: NTC Function BlockFigure 10: NTC Function Block

For a given NTC thermistor, RT1 and RT2 values depend on the type of For a given NTC **t** hermistor, RT1 and RT2 values depend on the type of he NTC resistor and can be calculated with following the NTC resistor and can be calculated with following

equations:equations:

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

(V COLD − V HOT )  R NTCH  R NTCL
R =

T2
(V − V  V )  R − (V − V  V ) 

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

−  

COLD HOT NTCH

=

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

COLD HOT NTCH NTCL
T2 =
(V − V  V )  R − (V − V  V )  R

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

HOT COLD HOT NTCL COLD COLD HOT NTCH

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

**s**

**c**


**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**

**N** TC resistor at high temperature of the required temperature operation range, and R

**s**

**c**


**t**
#### Input CapacitorInput Capacitor 

An input capacitor is required for stability, at least, a 1μF capacitor has to be connected between IN to GND for stable operAn input capacitor is required for stability, at least, a 1μF capacitor has to be connected between IN to GND for stable operation ation

over full load current range. Basically, it is OK to have more output capacitaover full load current range. Basically, it is OK to have more output capacitance than input, as long as the input is at least 1μF. nce than input, as long as the input is at least 1μF.
#### Output CapacitorOutput Capacitor 

This device is designed specifically to work with a very small ceramic output capacitor. A ceramic capacitor (dielectric typeThi **s** device is designed specifically to work with a very small ceramic output capacitor. A ceramic capacitor (dielectric type s

X5R or X7R) >2.2μF is suitable in the ETA4662 applicationX5R or X7R) >2.2μF is suitable in the ETA4662 application circuit. For this device, the output capacitor should be connected circuit. For this device, the output capacitor should be connected

between VSYS pin and GND pin with thick trace and small loop area. between VSYS pin and GND pin with thick trace and small loop area.
#### BAT to GND CapacitorBAT to GND Capacitor 

The capacitor from the BAT pin to GND pin is also necessary for ETA4662. A ceramic capacitor (dieleThe **c** apacitor from the BAT pin to GND pin is also necessary for ETA4662. A ceramic capacitor (dieletric types X5R or ctric types X5R or

X7R) >2.2μF is suitable for the ETA4662 application circuit. X7R) >2.2μF is suitable for the ETA4662 application circuit.
#### www.etasolution.com 22 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
#### VDD to GND CapacitorVDD to GND Capacitor 

The capacitor between VDD and GND is used to stabilize the VDD voltage to power the internal control and logic circuit. The The capacitor between VDD and GND is used to stabilize the VDD voltage to power the internal control and logic circuit. The

typical value of this capacitotypical value of this capacitor is 100nF. r is 100nF.
#### PCB Layout GuidelinePCB Layout Guideline 

Put external capacitors as close to this device as possible to make sure the smallest input inductance and the ground Put external capacitors as close to this device as possible to make sure the smallest input inductance and the ground

impedance. The PCB trace to connect the capacitor between VDD and GND is very important, and it should bimp **e** dance. The PCB trace to connect the capacitor between VDD and GND is very important, and it should b put very close e put very close

to this device.to this device.

The GND for the IThe GND for the I [22] C wire should be clean, and it should not be very close to the GND. IC wire should be clean, and it should not be very close to the GND. I [22] C wire should be put in parallel.C wire should be put in parallel.
## EVALUATION KIT DESIGNEVALUATION KIT DESIGN


**e**

IN


**e**

SYS A2


**e**

VIN

SDA

SCL


**e**

A1


**e**


**e**


**e**


**e**


**e**

VSYS


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**


**e**

|QTY|DEVICE|VALUE|DESCRIPTION|PACKAGE|RECOMMENDED<br>MANUFATURE|
|---|---|---|---|---|---|
|1|C1|1μF|20V Ceramic Capacitor (X5R or X7R)|0603|TBD|
|2|C2, C4|2.2μF|10V Ceramic Capacitor (X5R or X7R)|0603|TBD|
|2|C3, C5|4.7μF|10V Ceramic Capacitor (X5R or X7R)|0603|TBD|
|1|C6|100nF|10V Ceramic Capacitor (X5R or X7R)|0603|TBD|
|4|R1, R2,<br>R3, R4|15kΩ|Resistor|0603|TBD|
|1|PB||Push Button||TBD|

#### www.etasolution.com 23 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## II [22] C REGISTER MAPC REGISTER MAP 

I [2] C Address is set 0ExH as default and can be programmable after power up by change ADDR[2:0] bits.

**Table Table 55: Re** **g** **ister General Descri** **p** **tion: Register General Description**

|REGISTER NAME|ADDRESS|RD/WR|DESCRIPTION|DEFAULT|
|---|---|---|---|---|
|REG00|00xH|RD/WR|Input Source Control Register|1001 1111|
|REG01|01xH|RD/WR|Power on configuration register|1010 1100|
|REG02|02xH|RD/WR|Charge Current Control Register|0000 1111|
|REG03|03xH|RD/WR|Dis-charge/ Termination Current|1001 0001|
|REG04|04xH|RD/WR|Charge Voltage Control Register|1010 0011|
|REG05|05xH|RD/WR|Charge Termination/Timer Control Register|0111 1010|
|REG06|06xH|RD/WR|Miscellaneous Operation Control Register|1100 0000|
|REG07|07xH|RD/WR|System Voltage Regulation Register|0011 0111|
|REG08|08xH|RD|System Status Register|0000 0000|
|REG09|09xH|RD|Fault Register|0000 0000|
|REG0A|0AxH|RD/WR|I2C Address and Miscellaneous Configuration Register|1110 0000|
|REG0B|0BxH|RD|Device ID Register|0000 0000|












|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|V [3:0]<br>INDPM|1|REG_RST|RD/WR|640mV|Range: 3.88V – 5.08V<br>Default:4.6V(1001)<br>Offset:3.88V|
|6|6|0|REG_RST|RD/WR|320mV|320mV|
|5|5|0|REG_RST|RD/WR|160mV|160mV|
|4|4|1|REG_RST|RD/WR|80mV|80mV|
|3|I [3:0]<br>IN_LIM|1|REG_RST|RD/WR|240mA|Range: 50mA – 500mA<br>Default:500mA(1111)<br>Offset:50mA|
|2|2|1|REG_RST|RD/WR|120mA|120mA|
|1|1|1|REG_RST|RD/WR|60mA|60mA|
|0|0|1|REG_RST|RD/WR|30mA|30mA|


**Table Table 77: Power On Confi** **g** **uration Re** **g** **ister : Power On Configuration Register  --  Memor** **y** **Location: 01xH. Reset State: 1010 1100Memory Location: 01xH. Reset State: 1010 1100**






















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|T [1:0]<br>RST_DGL|1|REG_RST<br>WD_RST|RD/WR|00: 8s<br>01: 12s<br>10: 16s (Default)<br>11: 20s|Pull INT low time period to<br>disconnect the battery.|
|6|6|0|REG_RST<br>WD_RST|RD/WR|RD/WR|RD/WR|
|5|T<br>RST_DUR|1|REG_RST<br>WD_RST|RD/WR|0: 2s<br>1: 4s (Default)|The Q and Q Lasts Off<br>BYPASS SWITCH<br>Time Before Auto-On|
|4|EN_HIZ|0|REG_RST<br>WD_RST|RD/WR|0: Enabled<br>1: Disabled|Default: Enable(0)|
|3|CEB|1|REG_RST<br>WD_RST|RD/WR|0: Charge Enable<br>1: Charge Disabled|Default:<br>Charge Disable(1)|

#### www.etasolution.com 24 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662







|2|V [2:0]<br>BAT_UVLO|1|REG_RST<br>WD_RST|RD/WR|360mV|Battery UVLO Threshold:<br>Range: 2.4V – 3.03V<br>Default:2.76V(100)<br>Offset:2.4V|
|---|---|---|---|---|---|---|
|1|1|0|REG_RST<br>WD_RST|RD/WR|180mV|180mV|
|0|0|0|REG_RST<br>WD_RST|RD/WR|90mV|90mV|


**Table Table 88: Char** **g** **e Current Control Re** **g** **ister : Charge Current Control Register --  Memor** **y** **Memory Location: 02xH. Reset State: 0000 1111Location: 02xH. Reset State: 0000 1111**

















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|REG_RESET|0|REG_RST|RD/WR|0: Keep current<br>setting<br>1: Reset|Once write REG_RST[ ] = 1, longer than<br>10ms needed before write REG_RST[ ] =<br>0. In the time between these 2 actions, can<br>write or read anything else|
|6|WD_RESET|0|REG_RST<br>WD_RST|RD/WR|0: Normal<br>1: Reset|Default: Normal(0)|
|5|I<br>CHG|0|REG_RST<br>WD_RST|RD/WR|256mA|Fast Charge Current setting:<br>Range:8mA-456mA(111000)<br>Default:128mA(001111)<br>Offset:8mA|
|4|4|0|REG_RST<br>WD_RST|RD/WR|128mA|128mA|
|3|3|1|REG_RST<br>WD_RST|RD/WR|64mA|64mA|
|2|2|1|REG_RST<br>WD_RST|RD/WR|32mA|32mA|
|1|1|1|REG_RST<br>WD_RST|RD/WR|16mA|16mA|
|0|0|1|REG_RST<br>WD_RST|RD/WR|8mA|8mA|



















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|I [3:0]<br>DSCHG|1|REG_RST<br>WD_RST|RD/WR|1600mA|BAT to SYS Discharge Current Limit<br>Configuration:<br>Range: 400mA – 3.2A<br>Default:2A(1001)<br>Offset:200mA|
|6|6|0|REG_RST<br>WD_RST|RD/WR|800mA|800mA|
|5|5|0|REG_RST<br>WD_RST|RD/WR|400mA|400mA|
|4|4|1|REG_RST<br>WD_RST|RD/WR|200mA|200mA|
|3|I [3:0]<br>TERM|0|REG_RST<br>WD_RST|RD/WR|16mA|Termination and Precondition<br>Current configuration:<br>Range:1mA – 31mA<br>Default: 3mA(0001)|
|2|2|0|REG_RST<br>WD_RST|RD/WR|8mA|8mA|

#### www.etasolution.com 25 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662



|1|Col2|0|REG_RST<br>WD_RST|RD/WR|4mA|Offset:1mA|
|---|---|---|---|---|---|---|
|0|0|1|REG_RST<br>WD_RST|RD/WR|2mA|2mA|


**Table Table 1010: Char** **g** **e Volta** **g** **e Control Re** **g** **ister : Charge Voltage Control Register --  Memor** **y** **Location: 04xH. Reset State: 1010 0011Memory Location: 04xH. Reset State: 1010 0011**



















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|V [5:0]<br>BAT_REG|1|REG_RST<br>WD_RST|RD/WR|480mV|Battery Termination Voltage<br>Configuration<br>Range:3.6V – 4.545V<br>Default: 4.2V(101000)<br>Offset:3.6V|
|6|6|0|REG_RST<br>WD_RST|RD/WR|240mV|240mV|
|5|5|1|REG_RST<br>WD_RST|RD/WR|120mV|120mV|
|4|4|0|REG_RST<br>WD_RST|RD/WR|60mV|60mV|
|3|3|0|REG_RST<br>WD_RST|RD/WR|30mV|30mV|
|2|2|0|REG_RST<br>WD_RST|RD/WR|15mV|15mV|
|1|V<br>BAT_PRE|1|REG_RST<br>WD_RST|RD/WR|0: 2.8V<br>1: 3V(Default)|Pre-charge to Fast Charge Threshold:<br>Rising Threshold|
|0|V<br>RECH|1|REG_RST<br>WD_RST|RD/WR|0: 100mV<br>1: 200mV (Default)|Battery Recharge Threshold:<br>Delta voltage below V<br>BAT_REG|
























|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|EN_WD_DISCHG|0|REG_RST|RD/WR|0:Disable(Default)<br>1: Enable|Watchdog Control in Discharge<br>Mode|
|6|WATCHDOG[1:0]|1|REG_RST|RD/WR|00:Disable 01:40s<br>10:80s 11:160s|Default: 160s(11)|
|5|5|1|REG_RST|RD/WR|RD/WR|RD/WR|
|4|EN_TERM|1|REG_RST<br>WD_RST|RD/WR|0:Disable<br>1:Enable(Default)|Charge Termination Enable|
|3|EN_TIMER|1|REG_RST<br>WD_RST|RD/WR|0:Disable<br>1:Enable(Default)|Safety Timer Configuration|
|2|CHG_TMR [1:0]|0|REG_RST<br>WD_RST|RD/WR|00:3hrs 01:5hrs<br>10:8hrs 11:12hrs|Default Fast Charge Timer:<br>5hrs(01)|
|1|1|1|1|RD/WR|RD/WR|RD/WR|
|0|TERM_TMR|0|REG_RST<br>WD_RST|RD/WR|0:Disable (Default)<br>1:Enable|Termination Timer Control|

#### www.etasolution.com 26 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662

**Table Table 1122: Miscellaneous O** **p** **eration Control Re** **g** **ister : Miscellaneous Operation Control Register --  Memor** **y** **Location: 06xH. Reset State: 1100 0000Memory Location: 06xH. Reset State: 1100 0000**






















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|EN_NTC|1|REG_RST<br>WD_RST|RD/WR|0: Disable<br>1: Enable (Default)|Battery Thermal Monitor<br>Enable|
|6|TMR2X_EN|1|REG_RST<br>WD_RST|RD/WR|0: Normal safety timer<br>1: 2X extended safety<br>timer (Default)|Enable long Charger Timer<br>Fault in DPM|
|5|BFET_DIS|0|REG_RST|RD/WR|0: Enable(Default)<br>1: Disable|Battery FET Q Disable<br>SWITCH|
|4|PG_INT_CTL|0|REG_RST<br>WD_RST|RD/WR|0: No Mask (Default)<br>1: Mask|Mask Power Good to nINT<br>Indication|
|3|EOC_INT_CTL|0|REG_RST<br>WD_RST|RD/WR|0: No Mask (Default)<br>1: Mask|Charge Complete to nINT<br>Indication|
|2|CHG_STAT_INT_CTL|0|REG_RST<br>WD_RST|RD/WR|0: No Mask (Default)<br>1: Mask|Charge Status Change to<br>nINT Indication|
|1|NTC_INT_CTL|0|REG_RST<br>WD_RST|RD/WR|0: No Mask (Default)<br>1: Mask|NTC Fault to nINT Indication|
|0|BATTOVP_INT_CTL|0|REG_RST<br>WD_RST|RD/WR|0: No Mask (Default)<br>1: Mask|Battery OVP to nINT<br>Indication|






















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|ENB_PCB_OTP|0|REG_RST<br>WD_RST|RD/WR|0: Enable (Default)<br>1: Disable|PCB Over-Temperature Protection<br>Function|
|6|DIS_VINDPM|0|REG_RST<br>WD_RST|RD/WR|0: Enable (Default)<br>1: Disable|Enable VIN DPM Loop|
|5|TJ_REG[1:0]|1|REG_RST<br>WD_RST|RD/WR|00: 60ºC<br>01: 80 ºC<br>10: 100 º C<br>11: 120ºC (Default)|Thermal Regulation Threshold<br>Configuration|
|4|4|1|REG_RST<br>WD_RST|RD/WR|RD/WR|RD/WR|
|3|V [3:0]<br>SYS_REG|0|REG_RST|RD/WR|400mV|System Voltage Regulation<br>Configuration:<br>Range:4.2V – 4.95V<br>Default:4.55V<br>Offset:4.2V|
|2|2|1|REG_RST|RD/WR|200mV|200mV|
|1|1|1|REG_RST|RD/WR|100mV|100mV|
|0|0|1|REG_RST|RD/WR|50mV|50mV|


**Table Table 1144: S** **y** **stem Status Re** **g** **ister : System Status Register --  Memor** **y** **Location: 08xH. Reset State: 0Memory Location: 08xH. Reset State: 0000 00000 0000**




|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|WTD_FAULT|0|N/A|RD|0: Normal<br>1: Watchdog Timer Expiration|I2C Watchdog Timer Fault<br>Status|
|6|NO_IN_ILIM|0|N/A|RD|0: Use IN_ILIM 1: Disable IN_ILIM|VIN Current Limit|
|5|ILIM_ADD200mA|0|N/A|RD|0: Normal IN_ILIM 1: Add 200mA|0: Normal IN_ILIM 1: Add 200mA|

#### www.etasolution.com 27 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662









|4|CHG_STAT[1:0]|0|N/A|RD|00: Not Charging 01: Pre Charge<br>10: Charge 11: Charge Done|Charge Status|
|---|---|---|---|---|---|---|
|3|3|0|N/A|RD|RD|RD|
|2|PPM_STAT|0|N/A|RD|0: Not in PPM<br>1: In PPM|Power Management<br>Status|
|1|PG_STAT|0|N/A|RD|0: Power Fail<br>1: Power Good|Power Good Status|
|0|THERM_STAT|0|N/A|RD|0: No Thermal Regulation<br>1: In Thermal Regulation|Thermal Regulation<br>Status|


**TableTable 1155: Fault Re** **g** **ister : Fault Register --  Memor** **y** **Location: 09xH. Reset Memory Location: 09xH. Reset State: 0000 0000State: 0000 0000**
















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|EN_SHIP_DGL[1:0]|0|REG_RST|RD/WR|00: 1s (Default) 01: 2s<br>10: 4s 11: 8s|Enter Shipping Mode Deglitch<br>Time Configuration|
|6|6|0|REG_RST|RD/WR|RD/WR|RD/WR|
|5|VIN_FAULT|0|N/A|RD|0: Normal<br>1: Input fault (OVP or bad<br>source)|VIN Condition Status|
|4|THEM_SD|0|N/A|RD|0: Normal<br>1: Thermal Shutdown|Thermal Shutdown Status|
|3|BAT_FAULT|0|N/A|RD|0: Normal<br>1: Battery OVP|Battery Status|
|2|STMR_FAULT|0|N/A|RD|0: Normal<br>1: Safety Timer Expiration|Safety Timer Status|
|1|NTC_HOT|0|N/A|RD|0: Normal<br>1: HOT Condition|NTC Pin in HOT Condition:<br>Always be ‘0’ when PCB_OTP<br>Function is set.|
|0|NTC_COLD|0|N/A|RD|0: Normal<br>1: COLD Condition|NTC Pin in COLD Condition:<br>Always be ‘0’ when PCB_OTP<br>Function is set.|


**TableTable 1166: Address OTP Re** **g** **ister : Address OTP Register --  Memor** **y** **Location: 0AxH. Reset State: Memory Location: 0AxH. Reset State: 1110 000110 000**

















|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|ADDR[2:0]|1|N/A|RD|000: 00H 001: 02H 010: 04H<br>011: 06H 100: 08H 101: 0AH<br>110: 0CH 111: 0EH(Default)|I2C Address<br>Configuration|
|6|6|1|1|RD|RD|RD|
|5|5|1|1|RD|RD|RD|
|4|COLD_RESET|0|N/A|RD/WR|BATFET Reset:<br>0: Not Reset BATFET<br>1: Reset BATFET|Auto cleared after<br>BATFET Reset|
|3|SWITCH_MODE|0|REG_RST|RD/WR|0: Normal Power Path<br>1: For BATFET On without Current Limit|Force SWITCH Mode:|
|2|DIS_VDD|0|REG_RST|RD/WR|0:Enable to Battery Power<br>1:Disable Battery Power|VDD Output Voltage<br>Pin Setting:|

#### www.etasolution.com 28 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662




|1|DIS_VINOVP|0|REG_RST|RD/WR|0:Enable<br>1:Disable|VIN Over Voltage<br>Lock Out Disable|
|---|---|---|---|---|---|---|
|0|CC_FINE|0|N/A|RD/WR|0: Keep default ICHRG as ICHRG[5:0]<br>defined<br>1: Program ICHRG with all specs of<br>ICHRG[5:0] divided by 4.|Finer turn charge<br>current|


**Table Table 1177: ETA Solution Part Identif** **y** **: ETA Solution Part Identify --  Memor** **y** **Location: 0BxH. Reset State: Memory Location: 0BxH. Reset State: 00000 00000000**







|BIT|NAME|POR|RESET BY|RD/WR|FUNCTION|NOTE|
|---|---|---|---|---|---|---|
|7|ETA_CODE[7:0]|0|N/A|RD|0000 0000: ETA4662<br>All Other: Wrong IC|Identification Code|
|6|6|0|N/A|RD|RD|RD|
|5|5|0|N/A|RD|RD|RD|
|4|4|0|N/A|RD|RD|RD|
|3|3|0|N/A|RD|RD|RD|
|2|2|0|N/A|RD|RD|RD|
|1|1|0|N/A|RD|RD|RD|
|0|0|0|N/A|RD|RD|RD|

#### www.etasolution.com 29 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## PACKAGE OUTLINE DIMENSIONSPACKAGE OUTLINE DIMENSIONS 

FCQFNFCQFN--9L 1.75x1.75mm9L 1.75x1.75mm
#### www.etasolution.com 30 Empower, Transcend, Achieve!

ETA4662_REV1.8

# ETA4662
## TAPE AND REEL INFORMATION
#### www.etasolution.com 31 Empower, Transcend, Achieve!

ETA4662_REV1.8

